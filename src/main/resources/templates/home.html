<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice Dashboard</title>
    <link rel="stylesheet" href="/css/homestyle.css">
</head>
<body>

    <div class="container">
        <h1>Invoice</h1>

        <ul class="tabs">
            <li><a th:href="@{/invoices(status='Overview')}" th:classappend="${currentStatus == 'Overview'} ? 'active'">Overview</a>
            </li>
            <li><a th:href="@{/invoices(status='DRAFT')}" th:classappend="${currentStatus == 'DRAFT'} ? 'active'">Draft</a>
            </li>
            <li><a th:href="@{/invoices(status='IN_REVIEW')}" th:classappend="${currentStatus == 'IN_REVIEW'} ? 'active'">In
                Review</a></li>
            <li><a th:href="@{/invoices(status='UNPAID')}"
                   th:classappend="${currentStatus == 'UNPAID'} ? 'active'">Unpaid</a></li>
            <li><a th:href="@{/invoices(status='PAID')}" th:classappend="${currentStatus == 'PAID'} ? 'active'">Paid</a>
            </li>
            <li><a th:href="@{/invoices(status='OVERDUE')}" th:classappend="${currentStatus == 'OVERDUE'} ? 'active'">Overdue</a>
            </li>
        </ul>

        <div class="summary-metrics">
            <div class="metric-item">
                <label>Total</label>
                <span th:text="|A$${#numbers.formatDecimal(totalAmount, 1, 2)}|">A$00.00</span>
            </div>
            <div class="metric-item">
                <label>Balance Due</label>
                <span th:text="|A$${#numbers.formatDecimal(totalBalance, 1, 2)}|">A$00.00</span>
            </div>
            <div class="metric-item">
                <label>Overdue</label>
                <span class="text-red">A$00.00</span>
            </div>
        </div>

        <div class="toolbar">
            <div class="search-bar">
                <input type="text" placeholder="Search by name, invoice #...">
            </div>
            <div class="action-buttons">
                <a href="/invoices/new" class="btn btn-primary">New</a>
                <button class="btn btn-primary">Send receipt</button>
                <!--<button class="btn btn-icon">ðŸ—‘</button>
                <button class="btn btn-icon">ðŸ–¨</button>
                <button class="btn btn-icon">ðŸ“¥</button>-->
            </div>
        </div>

        <table class="invoice-table">
            <thead>
            <tr>
                <th style="width: 30px;"><input type="checkbox"></th>
                <th>Date</th>
                <th>Invoice #</th>
                <th>Contact</th>
                <th>Bill To</th>
                <th>Status</th>
                <th>Total</th>
                <th>Balance due</th>
                <th>Due Date</th>
            </tr>
            </thead>
            <tbody>
            <tr th:if="${invoices.isEmpty()}">
                <td colspan="10" style="text-align: center; padding: 30px;">No invoices found.</td>
            </tr>

            <tr th:each="inv : ${invoices}">
                <td><input type="checkbox"></td>
                <td th:text="${inv.date}">2025-07-29</td>
                <td>
                    <a th:href="@{/invoices/{id}(id=${inv.id})}" class="invoice-link" th:text="${inv.invoiceNumber}">INV-00001</a>
                </td>
                <td th:text="${inv.customerName}">June Young</td>
                <td th:text="${inv.customerBillTo}">Seoul</td>

                <td>
                    <span th:text="${inv.status}" th:class="'status-badge status-' + ${inv.status}">PAID</span>
                </td>

                <td th:text="${inv.total}">13</td>
                <td th:text="${inv.balanceDue}">0</td>
                <td th:text="${inv.dueDate}">2025-08-07</td>
            </tr>
            </tbody>
        </table>
    </div>
</body>
</html>